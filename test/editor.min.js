function jsdef_init(){$(".jsdef").each(function(){var e=$(this).attr("class"),a=e.match(/(.*?)ml-(\d+)(.*?)/),s=e.match(/(.*?)pl-(\d+)(.*?)/),o=e.match(/(.*?)ht-(\d+)(.*?)/),n=e.match(/(.*?)wd-(\d+)(.*?)/);a&&$(this).css({"margin-left":a[2]+"px"}),s&&$(this).css({"padding-left":s[2]+"px"}),o&&$(this).css({height:o[2]+"px"}),n&&$(this).css({width:n[2]+"px"})})}function onLangChange(e){switch(language=e,window.lang.change(e),e){case"zh_sc":$(".lang-zh_sc").each(function(){$(this).css("display","block")}),$(".lang-en").each(function(){$(this).css("display","none")});break;case"en":default:$(".lang-zh_sc").each(function(){$(this).css("display","none")}),$(".lang-en").each(function(){$(this).css("display","block")}),language="en"}setTimeout(tooltip_init,500)}function tooltip_init(){$(".tooltipped").tooltip({delay:50})}function display_label(e,a){var s=new Action(e),o=new Action(255&e),n={name:s.name,desc:s.desc};if(e>49151&&e<65536){var d=$("#code-0x"+e.toString(16));d.length>0&&(n.name=d.html(),n.desc=d.attr("title"))}if(e>=18176&&e<18432){var c=(255&e).toString(16);c<10&&(c="0"+c),n.name="SC"+c,n.desc="Launch shortcut "+c}if(n.name.match(/(.*?)BS(.*?)/)){var t=$(".key.k"+a);if(t&&t.length>1)for(m=0;m<t.length;m++){"block"==(l=$(".key.k"+a+":eq("+m+")").parents("[id^=kblayouts-]")).css("display")&&(i=l.find(".key.k"+a).parents().parents().parents().attr("class").match(/.*? w(\d+).*?/))}else if(t){(l=t.parents("[class^=mykeycap]").attr("class"))&&(i=l.match(/.*? w(\d+).*?/))}i&&i[1]>170&&(n.name=n.name.replace("BS","Backspace"))}if($("#keycap_style_gmk.nowdsa")[0]&&(o.name_dsa?n.name=" "+s.name_dsa:n.name=n.name.match(/\<i(.*?)\>/)?n.name:n.name.toUpperCase()),is_mac&&!$("#keycap_style_gmk.nowdsa")[0]){if(n.name.match(/(.*?)Ctrl(.*?)/)){var i,r=$(".key.k"+a);if(r&&r.length>1)for(var m=0;m<r.length;m++){"block"==(l=$(".key.k"+a+":eq("+m+")").parents("[id^=kblayouts-]")).css("display")&&(i=l.find(".key.k"+a).parents().parents().parents().attr("class").match(/.*? w(\d+).*?/))}else if(r){var l=r.parents("[class^=mykeycap]").attr("class");l&&(i=l.match(/.*? w(\d+).*?/))}i||(n.name=n.name.replace("Ctrl","short_ctrl"))}if(n.desc=n.desc.replace("Alt","Option").replace("Windows","Command").replace("Win","Cmd").replace("Backspace","Delete").replace("Num Lock","Clear").replace("Insert","help").replace("Print Screen","F13").replace("Scroll Lock","F14").replace("Pause Break","F15"),!n.desc.match("Keypad Enter")&&n.desc.match("Enter")&&(n.desc=n.desc.replace("Enter","Return")),n.name.match("kb kb-"))return n;if("alpha"==code_type(e))n.name=' <i class="bigfont"><I><br>'+n.name+"</I></i>";else if("numpad"==code_type(e)){var _=n.name.match(/(.*?)<br>(.*?)/)?n.name.match(/(.*?)<br>(.*?)/)[1]:n.name;n.name=' <i class="bigfont"><I><br>'+_+"</I></i>"}else e>29&&e<40||e>44&&e<57?n.name=' <i class="midfont"><I>'+n.name+"<I></i>":e>=58&&e<=69||e>=104&&e<=115?n.name=' <i class="midfont"><I><br>'+n.name+"<I></i>":(n.name=n.name.toLowerCase(),n.name=n.name.replace("bs","delete").replace("backspace","delete").replace("enter","return"),n.name=keyname_mac(n.name),e>=70&&e<=72?n.name=' <i class="midfont"><I><br>'+n.name+"<I></i>":n.name.match(/(.*?)<br>(.*?)/)||n.name.match(/(.*?) (.*?)/)?n.name=' <I lang="zh">'+n.name+"<I></i>":n.name=' <br><I lang="zh">'+n.name+"<I></i>")}else"alpha"!=code_type(e)&&"numpad"!=code_type(e)||(n.name=' <i class="bigfont">'+n.name+"</i>"),(e>29&&e<40||e>44&&e<70&&57!=e)&&(n.name=' <i class="midfont">'+n.name+"</i>");return n}function code_type(e){return e>3&&e<30?"alpha":e>83&&e<100&&88!=e||176==e?"numpad":void 0}function fetchHeader(e,a){try{var s=new XMLHttpRequest;return s.open("HEAD",e,!1),s.send(null),200==s.status&&s.getResponseHeader(a)}catch(e){return e.message}}function console2(e,a){var s=1==a?" [DN]":" [UP]",o="0"+e.toString(16);o="0x"+o.substring(o.length-2).toUpperCase();var n=get_time(),d=n.now+" : KEY "+o+" "+tmkCode2keyName(e)+s;if(console.log(d),1==a)key_time[e]=n.ms1970;else{d+=" -> "+(n.ms1970-key_time[e])+"ms"}var c="\n"+d;$("#console-text").append(c);var t=$("#console-text").prop("scrollHeight");$("#console-text").scrollTop(t),$("#console-text").css("height","226px")}function get_time(){var e=new Date,a="0"+e.getHours();a=a.substring(a.length-2);var s="0"+e.getMinutes();s=s.substring(s.length-2);var o="0"+e.getSeconds();o=o.substring(o.length-2);var n="00"+e.getMilliseconds();return{now:a+":"+s+":"+o+":"+(n=n.substring(n.length-3)),ms1970:e.getTime()}}function keyCode2tmkCode(e){return{8:42,9:43,13:40,272:225,528:229,273:224,529:228,274:226,530:230,19:72,20:57,27:41,32:44,33:75,34:78,35:77,36:74,37:80,38:82,39:79,40:81,44:70,45:73,46:76,48:39,49:30,50:31,51:32,52:33,53:34,54:35,55:36,56:37,57:38,65:4,66:5,67:6,68:7,69:8,70:9,71:10,72:11,73:12,74:13,75:14,76:15,77:16,78:17,79:18,80:19,81:20,82:21,83:22,84:23,85:24,86:25,87:26,88:27,89:28,90:29,347:227,604:231,605:231,93:101,781:88,864:98,813:98,865:89,803:89,866:90,808:90,867:91,802:91,868:92,805:92,869:93,780:93,870:94,807:94,871:95,804:95,872:96,806:96,873:97,801:97,874:85,875:87,877:86,878:99,814:99,879:84,112:58,113:59,114:60,115:61,116:62,117:63,118:64,119:65,120:66,121:67,122:68,123:69,144:83,145:71,186:51,187:46,188:54,189:45,190:55,191:56,192:53,219:47,220:49,221:48,222:52,173:16610,174:16618,175:16617,183:16786,226:100,235:231,255:227}[e]}function keyName2tmkCode(e){return keyUnimap={KANA:"00",VOLDN:"40EA",VOLUP:"40E9",MUTE:"40E2",CALC:"4192",A:"04",B:"05",C:"06",D:"07",E:"08",F:"09",G:"0A",H:"0B",I:"0C",J:"0D",K:"0E",L:"0F",M:"10",N:"11",O:"12",P:"13",Q:"14",R:"15",S:"16",T:"17",U:"18",V:"19",W:"1A",X:"1B",Y:"1C",Z:"1D",1:"1E",2:"1F",3:"20",4:"21",5:"22",6:"23",7:"24",8:"25",9:"26",0:"27",ENTER:"28",ESC:"29",BS:"2A",BACKSPACE:"2A",TAB:"2B",SPACE:"2C","-":"2D","=":"2E","[":"2F","]":"30","\\":"31","ISO#":"32",";":"33","'":"34","`":"35",",":"36",".":"37","/":"38",CAPSLOCK:"39","CAPS LOCK":"39",F1:"3A",F2:"3B",F3:"3C",F4:"3D",F5:"3E",F6:"3F",F7:"40",F8:"41",F9:"42",F10:"43",F11:"44",F12:"45",PRTSCR:"46","PRINT SCREEN":"46",SCRLK:"47","SCREEN LOCK":"47",PAUSE:"48","PAUSE BREAK":"48",INS:"49",INSERT:"49",HOME:"4A",PGUP:"4B","PAGE UP":"4B",DEL:"4C",DELETE:"4C",END:"4D",PGDN:"4E","PAGE DOWN":"4E",RIGHT:"4F",LEFT:"50",DOWN:"51",UP:"52","NUM LOCK":"53",NUMLK:"53",NUMLOCK:"53","P/":"54","P*":"55","P-":"56","P+":"57",PENTER:"58",P1:"59",P2:"5A",P3:"5B",P4:"5C",P5:"5D",P6:"5E",P7:"5F",P8:"60",P9:"61",P0:"62","P.":"63","ISO\\":"64",MENU:"65","P,":"66","P=":"67",F13:"68",F14:"69",F15:"6A",F16:"6B",F17:"6C",F18:"6D",F19:"6E",F20:"6F",F21:"70",F22:"71",F23:"72",F24:"73",JYEN:"74",RO:"75",HENK:"76",MHEN:"77",CTRL:"78",SHIFT:"79",ALT:"7A",WIN:"7B",RCTRL:"7C",RSHIFT:"7D",RALT:"7E",RWIN:"7F",NO:"80"},keyUnimap[e]}function tmkCode2keyName(e){return keyName={0:"Kana",1:" ",2:" ",3:" ",4:"A",5:"B",6:"C",7:"D",8:"E",9:"F",10:"G",11:"H",12:"I",13:"J",14:"K",15:"L",16:"M",17:"N",18:"O",19:"P",20:"Q",21:"R",22:"S",23:"T",24:"U",25:"V",26:"W",27:"X",28:"Y",29:"Z",30:"1",31:"2",32:"3",33:"4",34:"5",35:"6",36:"7",37:"8",38:"9",39:"0",40:"Enter",41:"Esc",42:"Backspace",43:"Tab",44:"Space",45:"Minus",46:"Equal",47:"LeftBracket",48:"RightBracket",49:"BackSlash",50:"iso#",51:"Semicolon",52:"Quote",53:"Grave",54:"Comma",55:"Dot",56:"Slash",57:"Capslock",58:"F1",59:"F2",60:"F3",61:"F4",62:"F5",63:"F6",64:"F7",65:"F8",66:"F9",67:"F10",68:"F11",69:"F12",70:"PrtScr",71:"ScrLk",72:"Pause",73:"Insert",74:"Home",75:"PgUp",76:"Delete",77:"End",78:"PgDn",79:"Right",80:"Left",81:"Down",82:"Up",83:"Numlock",84:"PSlash",85:"PAster",86:"PMinus",87:"PPlus",88:"PEnter",89:"P1",90:"P2",91:"P3",92:"P4",93:"P5",94:"P6",95:"P7",96:"P8",97:"P9",98:"P0",99:"PDot",100:"iso\\",101:"Menu",102:"P,",103:"P=",104:"F13",105:"F14",106:"F15",107:"F16",108:"F17",109:"F18",110:"F19",111:"F20",112:"F21",113:"F22",114:"F23",115:"F24",116:"Jyen",117:"Ro",118:"Henk",119:"Mhen",120:"Ctrl",121:"Shift",122:"Alt",123:"Win",124:"RCtrl",125:"RShift",126:"RAlt",127:"RWin",128:"No",16618:"Voldn",16617:"VolUp",16610:"Mute",16786:"Calc"},keyName[e]}function source_output(e){var a="";a+='#include "action.h"\n',a+='#include "action_code.h"\n',a+='#include "actionmap.h"\n',a+="\n",a+="const action_t actionmaps[][",a+=e[0].length,a+="][",a+=e[0][0].length,a+='] __attribute__ ((section (".keymap.keymaps"))) = {\n';for(var s in e){a+="    {\n";for(var o in e[s]){a+="        { ";for(var n in e[s][o])a+="0x"+("0"+e[s][o][n].toString(16)).substr(-2),a+=",";a+=" },\n"}a+="    },\n"}return a+="};\n"}function hex_line(e,a,s){var o=function(e){return("0"+e.toString(16)).substr(-2).toUpperCase()},n=0;n+=s.length,n+=e>>8,n+=255&e,n+=a;var d="";d+=":",d+=o(s.length),d+=o(e>>8),d+=o(255&e),d+=o(a);for(var c=0;c<s.length;c++)n+=s[c],d+=o(s[c]);return d+=o(1+~n&255)}function hex_eof(){return":00000001FF"}function hex_output(e,a){var s=[],o=[];return[].concat.apply([],[].concat.apply([],a)).forEach(function(a){o.push(a),16==o.length&&(s.push(hex_line(e,0,o)),e+=16,o.length=0)}),o.length>0&&(s+=hex_line(e,0,o)),s}function hex_keymaps(e){var a=[];return a=[].concat.apply([],[].concat.apply([],keymaps)),a=a.map(function(e){return[255&e,(65280&e)>>8]}),a=[].concat.apply([],a),hex_output(e,a)}function hex_split_firmware(e,a,s){for(var o=[],n=[],d=[],c=o,t=0,i=e.split("\n"),r=0;r<i.length;r++){var m=i[r].trim();if(":"!=m.substring(0,1))break;var l=parseInt(m.substring(1,3),16),_=parseInt(m.substring(3,7),16),y=m.substring(7,9);if("00"==y)if(_+t<a)o.push(m),c=o;else if(_+t>=a+s)n.push(m),c=n;else for(var u=0,f=0;f<l;f++)f%2==1?d.push(parseInt(m.substring(9+2*f,11+2*f),16)<<8|u):u=parseInt(m.substring(9+2*f,11+2*f),16);else"04"==y?((t=65536*parseInt(m.substring(9,13),16))>=a+s&&(c=n),c.push(m)):"01"==y?n.push(m):c.push(m)}for(var h=[],p=[];d.length>0;)p.push(d.splice(0,16)),8==p.length&&(h.push(p),p=[]);return{before:o,after:n,keymaps:h}}function bin_split_firmware(e,a,s){var o=[],n=[],d=new Uint8Array(e.length);d.fill(255);for(c=0;c<e.length;c++)d[c]=parseInt(e[c].charCodeAt(0),10);console.log(d);for(var c=a;c<e.length;c++)n.push(d[c]|d[c+1]<<8),c++;for(var t=[],i=[];n.length>0;)i.push(n.splice(0,16)),8==i.length&&(t.push(i),i=[]);return console.log(t),{before:o,after:[],keymaps:t}}function url_encode_keymap(e){return"undefined"!=typeof LZString&&"undefined"!=typeof Base64?Base64.encode(LZString.compress(JSON.stringify(e))):window.btoa(JSON.stringify(e))}function url_decode_keymap(e){try{return null==e||"string"!=typeof e||e.length<30?null:"undefined"!=typeof LZString&&"undefined"!=typeof Base64?JSON.parse(LZString.decompress(Base64.decode(e))):JSON.parse(window.atob(e))}catch(e){return null}}function Action(e){this.code=e,Object.defineProperty(this,"kind",{set:function(e){this.code|=(15&e)<<12},get:function(){return(61440&this.code)>>12}}),Object.defineProperty(this,"key_mods",{set:function(e){this.code|=(31&e)<<8},get:function(){return(7936&this.code)>>8}}),Object.defineProperty(this,"key_code",{set:function(e){this.code|=255&e},get:function(){return 255&this.code}}),Object.defineProperty(this,"usage_page",{set:function(e){this.code|=(3&e)<<10},get:function(){return(3072&this.code)>>10}}),Object.defineProperty(this,"usage_code",{set:function(e){this.code|=1023&e},get:function(){return 1023&this.code}}),Object.defineProperty(this,"layer_tap_val",{set:function(e){this.code|=(31&e)<<8},get:function(){return(7936&this.code)>>8}}),Object.defineProperty(this,"layer_tap_code",{set:function(e){this.code|=255&e},get:function(){return 255&this.code}}),Object.defineProperty(this,"layer_bitop_op",{set:function(e){this.code|=(3&e)<<10},get:function(){return(3072&this.code)>>10}}),Object.defineProperty(this,"layer_bitop_on",{set:function(e){this.code|=(3&e)<<8},get:function(){return(768&this.code)>>8}}),Object.defineProperty(this,"layer_bitop_part",{set:function(e){this.code|=(7&e)<<5},get:function(){return(224&this.code)>>5}}),Object.defineProperty(this,"layer_bitop_xbit",{set:function(e){this.code|=(1&e)<<4},get:function(){return(16&this.code)>>4}}),Object.defineProperty(this,"layer_bitop_bits",{set:function(e){this.code|=15&e},get:function(){return 15&this.code}}),Object.defineProperty(this,"mousekey_code",{set:function(e){this.code|=255&e},get:function(){return 255&this.code}}),Object.defineProperty(this,"am_code",{set:function(e){this.code|=15&e},get:function(){return 4095&this.code}}),Object.defineProperty(this,"af_code",{set:function(e){this.code|=15&e},get:function(){return 4095&this.code}});var a=function(e){var a="",s=[];return 1&e&&(a+="⌃",s.push("Control")),2&e&&(a+="⇧",s.push("Shift")),4&e&&(a+="⌥",s.push("Alt")),8&e&&(a+="⌘",s.push("Gui")),s=s.join(" + "),16&e&&(a="r"+a,s="Right "+s),{name:a,desc:s}};this.get_action=function(){switch((61440&this.code)>>12){case ACT_LMODS:case ACT_RMODS:if(0==this.key_mods){if(keycodes[this.key_code])return $.extend({},action_kinds.KEY,{name_dsa:keycodes[this.key_code].name_dsa,name:keycodes[this.key_code].name,desc:keycodes[this.key_code].desc})}else if(keycodes[this.key_code]){t=a(this.key_mods);if(2==this.key_mods&&(this.key_code>=30&&this.key_code<=39||this.key_code>=45&&this.key_code<=56||100==this.key_code))var e='<i class="midfont">'+keycodes[this.key_code].name.substring(0,1)+"</i>",s='<i class="midfont">'+keycodes[this.key_code].name.substring(0,1)+"</i>",o="Symbol "+keycodes[this.key_code].name.substring(0,1)+" or "+t.desc+" + "+keycodes[this.key_code].desc;else var e=t.name+" "+keycodes[this.key_code].name_dsa,s=t.name+" "+keycodes[this.key_code].name,o=t.desc+" + "+keycodes[this.key_code].desc;return $.extend({},action_kinds.MODS_KEY,{name_dsa:e,name:s,desc:o})}break;case ACT_LMODS_TAP:case ACT_RMODS_TAP:t=a(this.key_mods);switch(this.key_code){case MODS_ONESHOT:return $.extend({},action_kinds.MODS_ONESHOT,{name:t.name+" OneShot",desc:t.desc+" OneShot"});case MODS_TAP_TOGGLE:return $.extend({},action_kinds.MODS_TAP_TOGGLE,{name:t.name+" TapToggle",desc:t.desc+" TapToggle"})}if(void 0==keycodes[this.key_code])break;return $.extend({},action_kinds.MODS_TAP_KEY,{name_dsa:t.name+"<br>"+keycodes[this.key_code].name_dsa,name:t.name+"<br>"+keycodes[this.key_code].name,desc:"长按及与其他键组合时："+t.desc+" ；快速单击时为 "+keycodes[this.key_code].desc});case ACT_LAYER:var n=1==this.layer_bitop_bits||2==this.layer_bitop_bits||4==this.layer_bitop_bits||8==this.layer_bitop_bits;switch(this.layer_bitop_op){case OP_BIT_AND:return action_kinds.LAYER_BIT_AND;case OP_BIT_OR:return action_kinds.LAYER_BIT_OR;case OP_BIT_XOR:if(this.layer_bitop_on==ON_RELEASE&&0==this.layer_bitop_xbit&&n){for(var d=4*this.layer_bitop_part,c=this.layer_bitop_bits;c>>1;c>>=1)d++;return $.extend({},action_kinds.LAYER_TOGGLE,{name:"T"+d,desc:"点击打开或关闭 层"+d})}return action_kinds.LAYER_BIT_XOR;case OP_BIT_SET:if(this.layer_bitop_on==ON_SPECIAL_USE&&0==this.layer_bitop_xbit&&n){for(var d=4*this.layer_bitop_part,c=this.layer_bitop_bits;c>>1;c>>=1)d++;return $.extend({},action_kinds.DEFAULT_LAYER_SET,{name:"默认 层"+d,desc:"设置默认层 层"+d})}if(this.layer_bitop_on==ON_PRESS&&0==this.layer_bitop_xbit&&n){for(var d=4*this.layer_bitop_part,c=this.layer_bitop_bits;c>>1;c>>=1)d++;return $.extend({},action_kinds.DEFAULT_LAYER_SET,{name:"T->"+d,desc:"跳转到 层"+d})}return action_kinds.UNKNOWN}break;case ACT_LAYER_EXT:break;case ACT_LAYER_TAP:case ACT_LAYER_TAP_EXT:switch(this.layer_tap_code){case OP_TAP_TOGGLE:return $.extend({},action_kinds.LAYER_TAP_TOGGLE,{name:"LT"+this.layer_tap_val,desc:"Switch Layer "+this.layer_tap_val+" with Tap toggle"});case OP_ON_OFF:return $.extend({},action_kinds.LAYER_MOMENTARY,{name:"L"+this.layer_tap_val,desc:"瞬时开启（按下开启，松开关闭） 层"+this.layer_tap_val});case OP_OFF_ON:return action_kinds.LAYER_OFF_ON;case OP_SET_CLEAR:return action_kinds.LAYER_SET_CLEAR;default:if(224==(240&this.layer_tap_code)){var t=a(15&this.layer_tap_code);return $.extend({},action_kinds.LAYER_MODS,{name:"LM"+this.layer_tap_val+" "+t.name,desc:"瞬时开启 层"+this.layer_tap_val+" 时同时按住 "+t.desc})}if(void 0==keycodes[this.key_code])break;return $.extend({},action_kinds.LAYER_TAP_KEY,{name_dsa:"LT"+this.layer_tap_val+"<br>"+keycodes[this.layer_tap_code].name_dsa,name:"LT"+this.layer_tap_val+"<br>"+keycodes[this.layer_tap_code].name,desc:"长按及与其他键组合时，瞬时开启 层"+this.layer_tap_val+" ；快速单击时为"+keycodes[this.layer_tap_code].desc})}break;case ACT_USAGE:switch(this.usage_page){case PAGE_SYSTEM:if(system_codes[this.usage_code])return $.extend({},action_kinds.USAGE_SYSTEM,{name:system_codes[this.usage_code].name,desc:system_codes[this.usage_code].desc});case PAGE_CONSUMER:if(consumer_codes[this.usage_code])return $.extend({},action_kinds.USAGE_CONSUMER,{name:consumer_codes[this.usage_code].name,desc:consumer_codes[this.usage_code].desc})}break;case ACT_MOUSEKEY:if(mousekey_codes[this.mousekey_code])return $.extend({},action_kinds.MOUSEKEY,{name:mousekey_codes[this.mousekey_code].name,desc:mousekey_codes[this.mousekey_code].desc});break;case ACT_MACRO:if(am_codes[this.am_code])return $.extend({},action_kinds.MACRO,{name:am_codes[this.af_code].name,desc:am_codes[this.af_code].desc});break;case ACT_FUNCTION:if(af_codes[this.af_code])return $.extend({},action_kinds.FUNCTION,{name:af_codes[this.af_code].name,desc:af_codes[this.af_code].desc})}return action_kinds.UNKNOWN},Object.defineProperty(this,"id",{get:function(){return this.get_action().id}}),Object.defineProperty(this,"name",{get:function(){var e=this.get_action();return void 0!=e?e.name:""}}),Object.defineProperty(this,"name_dsa",{get:function(){return this.get_action().name_dsa}}),Object.defineProperty(this,"desc",{get:function(){var e=this.get_action();return void 0!=e?e.desc:""}})}function keyname_mac(e){var a={backspace:"delete",bs:"delete","caps lock":"caps<br>lock",enter:"return",ctrl:"control",short_ctrl:"ctrl",alt:"option",win:"cmd⌘",rctrl:"rcontrol",rshort_ctrl:"rctrl",ralt:"roption",rwin:"rcmd⌘","print<br>scrn":"F13","scrll<br>lock":"F14",pause:"F15",ins:"help","p↩":"enter","p=":"=","num<br>lock":"clear"};return a[e]?a[e]:e}CONFIG={default:{layout:"./config/layout-1800mini.html"},keymap:{optgroup0:{name:"YDKB ( High-end )"},yd1800mini:{name:"1800mini",desc:"1800mini 双模RGB热插拔键盘 by YANG",firmware_url:"./config/1800mini.hex",layout:"./config/layout-1800mini.html"},ben30_hidden:{name:"BEN30",desc:"BEN30 双模RGB热插拔键盘(玩具) by YANG & Xikii",firmware_url:"./config/chicory.hex",layout:"./config/layout-ben30.html"},ben40_hidden:{name:"BEN40",desc:"BEN40 双模RGB热插拔键盘 by YANG & Xikii",firmware_url:"./config/chicory.hex",layout:"./config/layout-ben40.html"},master98:{name:"Master98",desc:"Master98 keyboard",firmware_url:"./config/master98.hex",layout:"./config/layout-master98.html"},sairo64:{name:"Sairo64",desc:"Sairo64(赛罗64) 60%双模RGB热插拔PCB by YANG",firmware_url:"./config/sairo64.hex",layout:"./config/layout-sairo64.html"},taichi:{name:"TAICHI PAD",desc:"黑白双色PCB，8颗RGB底灯组成太极八卦图，16个按键，独立灯控的RGB轴灯实现千万种颜色",firmware_url:"./config/taichi.hex",layout:"./config/layout-taichi.html"},x8086k:{name:"X-8086K",desc:"X-8086K(80%尺寸86键) 双模RGB热插拔键盘",firmware_url:"./config/X-8086K.hex",layout:"./config/layout-x8086k.html"},optgroup1:{name:"YDKB (BLE系列键盘)"},ble40:{name:"BLE40",desc:"USB/BLE双模40% RGB无线键盘 by YANG",firmware_url:"./config/ble40_blup.hex",layout:"./config/layout-ble40.html"},blup:{name:"BLUP",desc:"USB/BLE双模40% RGB无线键盘 by YANG",firmware_url:"./config/ble40_blup.hex",layout:"./config/layout-blup.html"},cad66:{name:"CAD66",desc:"CAD66 USB/BLE双模PCB，可用于CA66键盘",firmware_url:"./config/cad66.hex",layout:"./config/layout-cad66.html"},chicory:{name:"Chicory",desc:"Chicory 40%双模键盘",firmware_url:"./config/chicory.hex",layout:"./config/layout-chicory.html"},fmini:{name:"Fmini",desc:"一个类似Kmini布局的PCB by YANG",firmware_url:"./config/fmini.hex",layout:"./config/layout-fmini.html"},hello_v1:{name:"Hello_v1",desc:"Hello Keyborad v1，支持多个键盘，包括HHKB改装，MX轴，ALPS轴等",firmware_url:"./config/hello_v1.hex",layout:"./config/layout-hello_v1.html"},just60:{name:"Just60",desc:"60%蓝牙双模机械键盘 by YANG",firmware_url:"./config/just60_yd60ble.hex",layout:"./config/layout-just60.html"},just66:{name:"Just66",desc:"USB/BLE 双模多配列键盘",firmware_url:"./config/just68.hex",layout:"./config/layout-just66.html"},just660:{name:"Just660",desc:"USB/BLE 双模多配列PCB for Leopold FC660M",firmware_url:"./config/just68.hex",layout:"./config/layout-just660.html"},just68:{name:"Just68",desc:"USB/BLE 双模多配列键盘（兼容Tada68外壳和小门牙）",firmware_url:"./config/just68.hex",layout:"./config/layout-just68.html"},minira:{name:"Minira",desc:"60%蓝牙双模机械键盘 配列同Filco Minila",firmware_url:"./config/minira.hex",layout:"./config/layout-minira.html"},pearly:{name:"Pearly",desc:"40%蓝牙双模机械键盘PCB, 兼容Pearl",firmware_url:"./config/chicory.hex",layout:"./config/layout-pearly.html"},yd43sw_hidden:{name:"YD43sw",desc:"YD43sw 还没有做的，计划中",firmware_url:"./config/yd40w.hex",layout:"./config/layout-yd43sw.html"},yd60ble:{name:"YD60BLE",desc:"60%蓝牙双模机械键盘 by YANG",firmware_url:"./config/just60_yd60ble.hex",layout:"./config/layout-yd60ble.html"},yd81_hidden:{name:"YD81",desc:"Get more than 80%. 支持有线蓝牙双模",firmware_url:"./config/yd81.hex",layout:"./config/layout-yd81.html"},ydp50:{name:"YDP50",desc:"USB/BLE双模50% 无线键盘 by YANG",firmware_url:"./config/ydp50.hex",layout:"./config/layout-ydp50.html"},ydpm40ble:{name:"YDPM40BLE",desc:"YDPM40 双模版",firmware_url:"./config/ydpm40ble.hex",layout:"./config/layout-ydpm40ble.html"},optgroup2:{name:"YDKB (其他键盘)"},akb48:{name:"AKB48",desc:"Atreus Keyboard 48 by YANG",firmware_url:"./config/akb48.hex",layout:"./config/layout-akb48.html"},cod67:{name:"COD67",desc:"COD67 PCB by YANG",firmware_url:"./config/cod67.hex",layout:"./config/layout-cod67.html"},ergoplus_hidden:{name:"ErgoPlus",desc:"An ErgoDox layout keyboard with full RGB and hotswap",firmware_url:"./config/ergodone.hex",layout:"./config/layout-ergoplus.html"},eswn:{name:"ESWN",desc:"ESWN四键RGB小键盘",firmware_url:"./config/eswn.hex",layout:"./config/layout-eswn.html"},gamer87_hidden:{name:"Gamer87",desc:"功能等针对游戏玩家优化设计的87键键盘，Gamer系列的第一款产品",firmware_url:"./config/gamer87.hex",layout:"./config/layout-gamer87.html"},hskb:{name:"HSKB",desc:"HSKB原型机一，分体有线带屏幕键盘",firmware_url:"./config/hskb.hex",layout:"./config/layout-hskb.html"},ns60:{name:"NS60",desc:"60%蓝牙双模机械键盘，同时支持上下灯位",firmware_url:"./config/ns60.hex",layout:"./config/layout-ns60.html"},simpo40:{name:"Simpo40",desc:"40% Keyboard.",firmware_url:"./config/simpo_uf2.hex",layout:"./config/layout-simpo40.html"},simpo66:{name:"Simpo66",desc:"Just66的单模有线版本",firmware_url:"./config/simpo_uf2.hex",layout:"./config/layout-simpo66.html"},simpo68:{name:"Simpo68",desc:"65% Keyboard. Just68的单模有线版本",firmware_url:"./config/simpo_uf2.hex",layout:"./config/layout-simpo68.html"},stm60:{name:"STM60",desc:"60% Keyboard that uses STM32F103",firmware_url:"./config/stm60.hex",layout:"./config/layout-stm60.html"},stm60c:{name:"STM60.C",desc:"60% Keyboard that uses STM32F103",firmware_url:"./config/stm60.hex",layout:"./config/layout-stm60c.html"},thx30:{name:"THX30",desc:"THX30 30% RGB小键盘，支持BLE模块，非卖品",firmware_url:"./config/thx30.hex",layout:"./config/layout-thx30.html"},uukb:{name:"UUKB",desc:"USB/优联 双模键盘",firmware_url:"./config/uukb_uf2.hex",layout:"./config/layout-uukb.html"},yd68:{name:"YD68",desc:"YD68双空格键盘，v2为单空格但支持蓝牙双模",firmware_url:"./config/yd68.hex",layout:"./config/layout-yd68.html"},ydkb_u2u:{name:"YDKB优联",desc:"YDKB的优联键盘集合",firmware_url:"./config/ydkb_u2u.hex",layout:"./config/layout-ydkb_u2u.html"},ydp60:{name:"YDP60",desc:"YDP60",firmware_url:"./config/ydp60.hex",layout:"./config/layout-ydp60.html"},ydpm40:{name:"YDPM40",desc:"YDP40 双空格类Planck and YDM40 by YANG",firmware_url:"./config/ydpm40.hex",layout:"./config/layout-ydpm40.html"},yxpad:{name:"YXPAD",desc:"Y(有)X(线)Pad，全灯RGB",firmware_url:"./config/yxpad.hex",layout:"./config/layout-yxpad.html"},optgroup3:{name:"YDKB Mod"},apple_adb:{name:"Apple_ADB",desc:"Apple ADB Keyboard to USB",firmware_url:"./config/apple_adb.hex",layout:"./config/layout-apple_adb.html"},ble660c:{name:"BLE660C",desc:"USB/BLE Controller for Leopold FC660C",firmware_url:"./config/ble660c_980c.hex",layout:"./config/layout-ble660c.html"},ble980c:{name:"BLE980C",desc:"USB/BLE Controller for Leopold FC980C",firmware_url:"./config/ble660c_980c.hex",layout:"./config/layout-ble980c.html"},ble980m:{name:"BLE980M",desc:"Leopold FC980M USB/蓝牙4.0双模改装",firmware_url:"./config/ble980m.hex",layout:"./config/layout-ble980m.html"},filco104:{name:"FILCO104",desc:"FILCO104 YDKB Conroller",firmware_url:"./config/filco104.hex",layout:"./config/layout-filco104.html"},hhkb_ble:{name:"HHKB BLE",desc:"USB/BLE Controller for HHKB",firmware_url:"./config/hhkb_ble.hex",layout:"./config/layout-hhkb_ble.html"},yd_ap2u_hidden:{name:"YD-AP2U",desc:"AT和PS/2接口转USB转换器，以下是支持的一些布局",firmware_url:"./config/yd3000c.hex",layout:"./config/layout-yd_ap2u.html"},yd3000c:{name:"YD3000c",desc:"G80-3000系列的转换器，支持多种自定义功能，G80-3494支持USB下全键无冲",firmware_url:"./config/yd3000c.hex",layout:"./config/layout-yd3000c.html"},optgroup4:{name:"K.T.E.C."},chili:{name:"Chili",desc:"K.T.E.C.成员 !#&*^$)~$#`^(%#$Gacathon 作品，G80-3000外壳可用PCB",firmware_url:"./config/lm_chili.hex",layout:"./config/layout-lm_chili.html"},cw40:{name:"CW40",desc:"K.T.E.C.出品，国外设计，国内制造",firmware_url:"./config/cw40.hex",layout:"./config/layout-cw40.html"},daisy:{name:"Daisy",desc:"K.T.E.C.出品，国外设计，国内制造",firmware_url:"./config/daisy.hex",layout:"./config/layout-daisy.html"},ergodone:{name:"Ergodone",desc:"K.T.E.C.出品，国外设计，国内制造",firmware_url:"./config/ergodone.hex",layout:"./config/layout-ergodone.html"},grape:{name:"Grape",desc:"K.T.E.C.成员 !#&*^$)~$#`^(%#$Gacathon 作品，G80-11900/11800外壳可用PCB",firmware_url:"./config/lm_grape.hex",layout:"./config/layout-lm_grape.html"},leechee:{name:"Leechee",desc:"K.T.E.C.成员 !#&*^$)~$#`^(%#$Gacathon 作品，G80-1800外壳可用PCB",firmware_url:"./config/lm_leechee.hex",layout:"./config/layout-lm_leechee.html"},staryu:{name:"Staryu",desc:"K.T.E.C.出品，国外设计，国内制造",firmware_url:"./config/staryu.hex",layout:"./config/layout-staryu.html"},optgroup5:{name:"Others(第三方)"},ca66:{name:"CA66",desc:"CA66 USB Keyboard by Yock and Bobnaive, 双模版请从键盘列表里选择CAD66",firmware_url:"./config/ca66.hex",layout:"./config/layout-ca66.html"},exe:{name:"EXE",desc:"E神作品，国内客制化先驱",firmware_url:"./config/exe.hex",layout:"./config/layout-exe.html"},gh60:{name:"GH60_ABC",desc:"该固件主要给添加了UART2BT蓝牙模块的使用， 完整支持XD60，其他ABC版本自测。",firmware_url:"./config/gh60.hex",layout:"./config/layout-gh60.html"},u2u_pro:{name:"U2U PRO",desc:"USB2USB Converter with AT90USB1286",firmware_url:"./config/u2u_pro.hex",layout:"./config/layout-u2u_pro.html"},udock:{name:"UDock",desc:"UDock by Yock and Bobnaive",firmware_url:"./config/udock.hex",layout:"./config/layout-udock.html"}}},KEYCAP_COLORS=[{name:"hana",name_chs:"Hana",color:["#a598c5","#efefea"],case_color:"#ebc3f0"},{name:"HHKB",name_chs:"HHKB",color:["#222222","#eae6e7","#cbcdda"],order:[0,1,0,2,0,2]},{name:"RF_10th",name_chs:"RF 10th",color:["#222222","#989793","#6688aa"],order:[0,1,0,2,0,2],case_color:"#333333"},{name:"raindrop",name_chs:"Raindrop",color:["#0073a2","#e5e4df"]},{name:"carbon",name_chs:"Carbon",color:["#575d5e","#e3d9c6","#ed6b21"],order:[0,1,2,0,0,2],case_color:"#424848"},{name:"Honeywell",name_chs:"Honeywell",color:["#212224","#efefea","#575757","#b01c11"],order:[0,1,1,2,1,3]},{name:"hyperfuse",name_chs:"Hyperfuse",color:["#6c3b7b","#c4c4c0","#5dceba","#63696a"],order:[0,1,2,3,2,3]},{name:"granite",name_chs:"Granite",color:["#525554","#e6e8e3","#222222","#a0a4a7"],order:[0,1,2,3,2,3]},{name:"jukebox",name_chs:"Jukebox",color:["#a51b1b","#d9c9a8","#69d0a5"],order:[0,1,0,2,1,0]},{name:"sp_valentine",name_chs:"Valentine",color:["#dc90bc","#efefea"],case_color:"#eaa0ca"},{name:"sp_eva01",name_chs:"EVA 01",color:["#93c247","#592254"]},{name:"pulse",name_chs:"Pulse",color:["#00a6b4","#212224"]},{name:"royal_navy",name_chs:"Royal Navy",color:["#2f3d6f","#f0f0f0","#a92f0d"],order:[0,1,1,0,1,2]},{name:"dolch",name_chs:"Dolch",color:["#e4dedd","#5f5c52","#333430","#00a4a9"],order:[0,1,0,2,0,3]},{name:"classic_olivetti",name_chs:"Classic Olivetti",color:["#0965ed","#f5f5f5","#cfcdc2"],order:[0,1,0,2,1,0]},{name:"lime",name_chs:"Lime",color:["#93c247","#e5e4df","#7c878e"],order:[0,1,1,2,1,0]},{name:"eve",name_chs:"Eve",color:["#333333","#d4d0c7","#2785db"],order:[0,1,2,0,1,2]},{name:"godspeed",name_chs:"Godspeed",color:["#666666","#d3cdc1","#6a94b1","#f9eb74"],order:[0,1,1,2,0,3]},{name:"bento",name_chs:"Bentō",color:["#487992","#fff4f0","#f8767e"],order:[0,1,2,0,1,2]},{name:"jamon",name_chs:"Jamón",color:["#f2ebd7","#8c303a","#b2343c","#424446"],order:[0,1,0,2,3,0]},{name:"white_on_black",name_chs:"White on Black",color:["#efefea","#222222"],order:[0,1,0,1,0,1]}],UI_THEME=[{name:"默认主题",color:"#0288d1"},{name:"红色主题",color:"#e57373"},{name:"粉色主题",color:"#f06292"},{name:"紫色主题",color:"#7e57c2"},{name:"青色主题",color:"#00acc1"},{name:"绿色主题",color:"#4caf50"},{name:"暗黑模式",color:"#242424"}],$(function(){function e(){$("#keyboard-outline").find("[class^=mykeycap]").each(function(){$(this).removeAttr("style")}),$("#console-text").html(""),t=0;for(var e=0;e<128;e++)d[e]=0}var a,s=0,o=26624;iscasejscolor=0,is_mac=0,layouts_save="";for(var n="click",d=new Array,c=0;c<128;c++)d[c]=0;key_time=new Array;for(c=0;c<128;c++)key_time[c]=0;var t=0,i=document.location.search.substring(1),r=i.match(/(.*)-(\d+)/);r?(variant=r[1],layouts_save=r[2]):variant=i,console4jslang=!0,8080!=window.location.port&&"console"!=document.location.hash.substring(1)&&(console.log=(()=>{}),console4jslang=!1),console.log(layouts_save);switch(language=navigator.userLanguage||navigator.language||navigator.bowserLanguage,language.toLowerCase()){case"zh-cn":language="zh_sc";break;case"en-us":default:language="en"}-1!=navigator.platform.indexOf("Mac")&&(is_mac=1),window.onfocus=function(){console.log("focus on page")},window.onblur=function(){console.log("focus off page"),e()};for(var m in CONFIG.keymap)m.match(/optgroup.*/)?$("#firmware-dropdown").append('<li class="disabled optgroup uicolor-text"><span>'+CONFIG.keymap[m].name):m.match(/.*hidden/)||$("#firmware-dropdown").append(function(e,a,s){return'<li value="'+e+'" title="'+a+'" lang="zh_sc"> <a lang="zh_sc">'+s}(m,CONFIG.keymap[m].desc,CONFIG.keymap[m].name));$("#firmware-dropdown").on("click","li",function(){var e=$(this).attr("value");CONFIG.keymap[e]&&($("#upfirmwareFile").hide(),$("#keymap-load").prop("disabled",!1),$("#firmware-download").prop("disabled",!1),a!=e&&(a=e,layouts_save="",function(e){if(CONFIG.keymap[e]&&($("#firmware-dropdown-btn").text(CONFIG.keymap[e].name),$("#logo_name").text(CONFIG.keymap[e].name)),CONFIG.keymap[e].desc&&$("#logo_desc").text(CONFIG.keymap[e].desc),CONFIG.keymap[e].firmware_url){var a=fetchHeader("."+CONFIG.keymap[e].firmware_url,"Last-Modified").replace(" GMT","").substring(5);console.log("Latest firmware: "+a),$("#latest_firmware_date").text(a)}$("#firmware-dropdown").find("li").removeClass("uicolor").removeAttr("style"),$("#firmware-dropdown").find("[value="+e+"]").addClass("uicolor"),$("#layouts-set-div").hide(),$("#keymap-load-div").hide(),$("#firmware-download").prop("disabled",!0),$("#keymap-load").prop("disabled",!0),CONFIG.keymap[e]&&($("#firmware-dropdown").prop("disabled",!0),f("."+CONFIG.keymap[e].firmware_url).done(function(a){if($("#firmware-download").prop("disabled",!1),$("#keymap-load").prop("disabled",!1),$("#keymap-load-div").show(),CONFIG.keymap[e].layout){k("."+CONFIG.keymap[e].layout),$("#kbdinfo_tab_name").html(CONFIG.keymap[e].name),$("#purchase-link").empty(),$("#purchase-link").append('<li class="waves-effect waves-light"><a href="#!">尊重劳动成果，远离山寨。右侧为'+CONFIG.keymap[e].name+"正规购买渠道和介绍。");var s=CONFIG.keymap[e].purchase_link;if(s)for(var o=0;o<s.length;o++)$("#purchase-link").append('<li class="waves-effect waves-light"><a href="'+s[o].url+'" target="_blank">'+s[o].name);else $("#purchase-link").append('<li class="waves-effect waves-light"><a href="#!">暂无链接')}else k(CONFIG.layout_default)}).fail(function(){$("#firmware-download").prop("disabled",!0),$("#keymap-load").prop("disabled",!0)}).always(function(){$("#firmware-dropdown").prop("disabled",!1)}))}(a)))}),$("#layouts-set-border").drags(),$("#layouts-set-on,#layouts-set-off").click(function(){$("#layouts-set-border").fadeToggle(300)}),$(document).ready(function(){$(".modal").modal(),$(".button-collapse").sideNav(),jsdef_init()}),$("[id^='layouts-']").on("click","[class^='layouts-']",function(){var e=this.id.match(/layouts-(\d)(\d)/);if($("#kblayouts-00").length>0){for(s=0;s<$("div[id^='kblayouts-"+e[1]+"']").length;s++)$("#kblayouts-"+e[1]+s).hide();$("#kblayouts-"+e[1]+e[2]).show()}var a=layouts_save.match(/(\d)/g);layouts_save="",$("div[id^='kblayouts-']").each(function(){if("block"==$(this).css("display")){var e=this.id.match(/kblayouts-(\d)(\d)/),s=e[1],o=e[2];a[s]=o}});for(var s=0;s<a.length;s++)layouts_save+=a[s];keymaps[1][0][0]="1"+layouts_save>>16,keymaps[0][0][0]="1"+layouts_save&65535,l(keymaps[0])}),$("#mykeycap_system_change").click(function(){is_mac^=1,l(keymaps[0])}),$("#click-sound").on("click","li a",function(){n=$(this).attr("value")});var l=function(e){for(var a in e)for(var s in e[a]){var o=e[a][s],n=(new Action(o),parseInt(a).toString(32)+parseInt(s).toString(32));$(".key.k"+n).html(display_label(o,n).name).attr({title:display_label(o,n).desc})}};document.addEventListener("keydown",function(e){var a=e.keyCode;e.returnValue=!1;var s=keyCode2tmkCode(256*e.location+a);if(s>=224&s<=231&&(s-=104),0==d[s]&&console2(s,1),s<16)o="k0"+s.toString(16);else var o="k"+s.toString(16);s<128&&(0==d[s]?d[s]=1:d[s]=2),$("#keyboard-outline").find("."+o).each(function(){$(this).parent().parent().parent().css({"background-color":"#A09683"})}),t=0;for(m=0;m<128;m++)1!=d[m]&&2!=d[m]||t++;var c=new Audio("sound1.wav"),i=new Audio("sound2.wav");if(1==t)if("click"==n&&1==d[s])c.play();else{var r="sound_jp/"+tmkCode2keyName(s)+".wav";1==d[s]&&(null==fetchHeader(r)?new Audio(r).play():c.play())}else if(t>1){i.play();for(var m=0;m<128;m++)1==d[m]&&(d[m]=10)}}),document.addEventListener("keyup",function(e){var a=e.keyCode;e.returnValue=!1;var s=keyCode2tmkCode(256*e.location+a);if(s>=224&s<=231&&(s-=104),console2(s,0),s<16)o="k0"+s.toString(16);else var o="k"+s.toString(16);$("#keyboard-outline").find("."+o).each(function(){if(10==d[s])$(this).parent().parent().parent().css({"background-color":"#FFA0A0"});else if($(this).parent().parent().parent().css({"background-color":"#F7DE9C"}),70==s)if("click"==n)new Audio("sound1.wav").play();else{var e="sound_jp/"+tmkCode2keyName(s)+".wav";new Audio(e).play()}}),s<255&&(d[s]=0)}),$("#reset_test").on("click",function(){e()});var _=[],y=[],u=[],f=function(e){return $.ajax({method:"GET",url:e}).done(function(e){var a=hex_split_firmware(e,o,KEYMAP_SIZE);_=a.before,y=a.after,u=a.keymaps})};$("#firmwareFile").change(function(e){var a=e.target.files[0];if(a){var s=new FileReader;s.onloadend=function(e){if(a.name.match(/.hex/g))s=hex_split_firmware(this.result,o,KEYMAP_SIZE);else var s=bin_split_firmware(this.result,o,KEYMAP_SIZE);u=s.keymaps,console.log(u),$("#keymap-load").prop("disabled",!1),$("#keymap-load-div").show(),h()},s.readAsBinaryString(a),$("#firmwareFile").val("")}else $("#keymap-load").prop("disabled",!0)}),$("#keymap-load").prop("disabled",!0),$("#keymap-load").click(function(e,a){h()});var h=function(){for(keymaps=$.extend(!0,[],u);keymaps.length<KEYMAP_LAYERS;)keymaps.push(transparent_map());l(keymaps[0]);var e=""+(parseInt(keymaps[1][0][0]<<16)+parseInt(keymaps[0][0][0]));if(console.log(e),"1"==e.slice(0,1)&&e.length-2==s){var a=e.slice(1).match(/(\d)/g);""==layouts_save&&(layouts_save=e.slice(1));for(var o=0;o<s+1;o++){for(var n=0;n<$("div[id^='kblayouts-i']").length+1;n++)$("#kblayouts-"+o+n).hide(),$("#layouts-"+o+n).prop({checked:"false"});$("#kblayouts-"+o+a[o]).show(),$("#layouts-"+o+a[o]).prop({checked:"checked"})}}};$("#firmware-download").prop("disabled",!0),$("#firmware-download, #firmware-download-bin").click(function(e,s){var n,d=".hex";if("firmware-download-bin"==this.id){var c=[].concat(_).concat(hex_keymaps(o)),t=0;"yd1800mini"!=a&&"x8086k"!=a||(t=60160);var i=convert(c,0,o+KEYMAP_SIZE+t),r=new Blob([i],{type:"application/octet-stream"});if(n=$("#bin-download"),d=".bin",i[0]==i[1]&&i[1]==i[2])return void alert(window.lang.translate("下载文件有错，Ctrl+F5刷新页面后重试"))}else{var m=[].concat(_).concat(hex_keymaps(o)).concat(y).join("\r\n").concat("\r\n");r=new Blob([m],{type:"application/octet-stream"}),n=$("#hex-download")}var l=$("#kbd-firmware").attr("value-filename");void 0==l&&(l=a),window.navigator.msSaveBlob?window.navigator.msSaveBlob(r,l+d):(n.attr("href",window.URL.createObjectURL(r)),n.attr("download",l+d),n[0].click())}),$(window).bind("beforeunload",function(){return"CAUTION: You will lost your change."}),$("#show-tabs-kbdinfo").click(function(e,a){$("#key-set-tabs").find("li a").each(function(){$(this).removeClass("active")}),$("#tabs-main").hide(),$("#tabs-mediamouse").hide(),$("#tabs-layer").hide(),$("#tabs-other").hide(),$("#tabs-readme").hide(),$("#kbdinfo_tab").addClass("active"),$("#tabs-kbdinfo").css("display","block"),$("#key-set-tabs").find(".indicator").css({right:"229.781px",left:"666.781px"})}),$("#key-set-tabs").click(function(e,a){$("#key-set-tabs").find("li a").each(function(){$(this).hasClass("active")&&"kbdinfo_tab"!=this.id&&($("#tabs-kbdinfo").css("display","none"),$("#kbdinfo_tab").removeClass("active"))})});var p=$.Deferred().resolve();CONFIG.keymap[variant]&&CONFIG.keymap[variant].firmware_url&&($("#firmware-dropdown").val(variant),p=f(CONFIG.keymap[variant].firmware_url).done(function(e){if(!document.location.hash)for(keymaps=$.extend(!0,[],u);keymaps.length<KEYMAP_LAYERS;)keymaps.push(transparent_map());$("#firmware-download").prop("disabled",!1),$("#keymap-load").prop("disabled",!1)}).fail(function(e){$("#firmware-download").prop("disabled",!0),$("#keymap-load").prop("disabled",!0)}).always(function(){}));var k=function(e){$("#keyboard-outline").load(e,function(){var e=$("#kbd-firmware");if(o=e.attr("value-keymapaddr")?parseInt(e.attr("value-keymapaddr"),16):26624,console.log("KEYMAP_ADDR: 0x"+o.toString(16)),$("#firmware-download").parent().show(),$("#firmware-download-bin").parent().hide(),e.attr("value-format")){var a=e.attr("value-format");console.log("Firmware format: "+a),a.match(/bin/g)&&($("#firmware-download-bin").parent().show(),console4jslang||$("#firmware-download").parent().hide())}$("#keyboard-outline").find("[class^=mykeycap]").each(function(){var e=keyName2tmkCode($(this).text().toUpperCase()).toLowerCase(),a=$(this)[0].className.match(/(mykeycap.*)/);$(this).attr("lang","zh_sc"),$(this).removeClass(a[1]),$(this).addClass("key k"+e),$(this).wrap('<div class="'+a[1]+'"><div class="border"><div class="top">')});var n=$("#kbd-info").html();if($("#kbd-info").remove(),$("#kbdinfo_detail").empty(),n?$("#kbdinfo_detail").append(n):$("#kbdinfo_detail").append("暂无其他说明"),$("#macrofn").empty(),$("#macrofn").html($("#kbd-macrofn").html()),$("#kbd-macrofn").remove(),$("#rgb_control_keys").load("config/zz_rgb_control_keys.html"),$("#backlight_control_keys").load("config/zz_backlight_control_keys.html"),$("#ble51_control_keys").load("config/zz_ble51_control_keys.html"),$("#kblayouts-00").length>0){if($("#layouts-set-div").show(),$("#layouts-set").empty(),layouts_save)var d=layouts_save.match(/(\d)/g);$("div[id^='kblayouts-']").each(function(){var e=this.id.match(/kblayouts-(\d)(\d)/),a=e[1],o=e[2];s<a&&(s=a),0==o&&($("#layouts-set").append('<div class="rowstart">[ '+$(this).attr("value-desc")+" ]"),$("#layouts-set").append('<div id="layouts-'+a+'">'),d&&d[a]||(layouts_save+="0")),$("#layouts-"+a).append('<input type="radio" id="layouts-'+a+o+'" class="layouts-'+a+'" name="layouts-'+a+'"/><label for="layouts-'+a+o+'">'+$(this).attr("value-name")),d&&d[a]&&($("#kblayouts-"+a+"0").hide(),$("#kblayouts-"+a+d[a]).show()),"block"==$(this).css("display")&&$("#layouts-"+a+o).prop({checked:"checked"})})}onLangChange(language),l(keymaps[0])})};$.when(p).then(function(){k("../config/layout-all_keytest.html"),jsdef_init()})}),KEYMAP_LAYERS=8,KEYMAP_ROW=8,KEYMAP_COL=16,no_map=function(){return[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},transparent_map=function(){return[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]},keymaps=[[[136,17642,17641,17634,4,5,6,7,8,9,10,11,12,13,14,15],[16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],[32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],[48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63],[64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79],[80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95],[96,97,98,99,100,101,133,103,20724,20725,20726,20727,20728,20729,20730,111],[112,113,114,115,137,135,138,139,224,225,226,227,228,229,230,231]],transparent_map(),transparent_map(),transparent_map(),transparent_map(),transparent_map(),transparent_map(),transparent_map()],KEYMAP_SIZE=2048,ACT_MODS=0,ACT_LMODS=0,ACT_RMODS=1,ACT_MODS_TAP=2,ACT_LMODS_TAP=2,ACT_RMODS_TAP=3,ACT_USAGE=4,ACT_MOUSEKEY=5,ACT_LAYER=8,ACT_LAYER_EXT=9,ACT_LAYER_TAP=10,ACT_LAYER_TAP_EXT=11,ACT_MACRO=12,ACT_BACKLIGHT=13,ACT_COMMAND=14,ACT_FUNCTION=15,OP_TAP_TOGGLE=240,OP_ON_OFF=241,OP_OFF_ON=242,OP_SET_CLEAR=243,OP_BIT_AND=0,OP_BIT_OR=1,OP_BIT_XOR=2,OP_BIT_SET=3,ON_SPECIAL_USE=0,ON_PRESS=1,ON_RELEASE=2,ON_BOTH=3,MOD_LCTL=1,MOD_LSFT=2,MOD_LALT=4,MOD_LGUI=8,MOD_RCTL=17,MOD_RSFT=18,MOD_RALT=20,MOD_RGUI=24,MODS_ONESHOT=0,MODS_TAP_TOGGLE=1,PAGE_CONSUMER=0,PAGE_SYSTEM=1,FUNC_TAP=8;var kind_codes={KEY:ACT_MODS<<12,MODS_KEY:ACT_MODS<<12,MODS_TAP_KEY:ACT_MODS_TAP<<12,MODS_ONESHOT:ACT_MODS_TAP<<12|MODS_ONESHOT,MODS_TAP_TOGGLE:ACT_MODS_TAP<<12|MODS_TAP_TOGGLE,USAGE_SYSTEM:ACT_USAGE<<12|PAGE_SYSTEM<<10,USAGE_CONSUMER:ACT_USAGE<<12|PAGE_CONSUMER<<10,MOUSEKEY:ACT_MOUSEKEY<<12,MACRO:ACT_MACRO<<12,MACRO_TAP:ACT_MACRO<<12,MACRO_OPT:ACT_MACRO<<12,FUNCTION:ACT_FUNCTION<<12,FUNCTION_TAP:ACT_FUNCTION<<12|FUNC_TAP<<8,FUNCTION_OPT:ACT_FUNCTION<<12,LAYER_CLEAR:ACT_LAYER<<12|OP_BIT_AND<<10,LAYER_MOMENTARY:ACT_LAYER_TAP<<12|OP_ON_OFF,LAYER_TOGGLE:ACT_LAYER<<12|OP_BIT_XOR<<10|ON_RELEASE<<8,LAYER_INVERT:ACT_LAYER<<12|OP_BIT_XOR<<10,LAYER_ON:ACT_LAYER<<12|OP_BIT_OR<<10,LAYER_OFF:ACT_LAYER<<12|OP_BIT_AND<<10,LAYER_SET:ACT_LAYER<<12|OP_BIT_SET<<10,LAYER_TAP_KEY:ACT_LAYER_TAP<<12,LAYER_MODS:ACT_LAYER_TAP<<12|224,LAYER_TAP_TOGGLE:ACT_LAYER_TAP<<12|OP_TAP_TOGGLE,LAYER_ON_OFF:ACT_LAYER_TAP<<12|OP_ON_OFF,LAYER_OFF_ON:ACT_LAYER_TAP<<12|OP_OFF_ON,LAYER_SET_CLEAR:ACT_LAYER_TAP<<12|OP_SET_CLEAR,LAYER_BIT_AND:ACT_LAYER<<12|OP_BIT_AND<<10,LAYER_BIT_OR:ACT_LAYER<<12|OP_BIT_OR<<10,LAYER_BIT_XOR:ACT_LAYER<<12|OP_BIT_XOR<<10,LAYER_BIT_SET:ACT_LAYER<<12|OP_BIT_SET<<10,DEFAULT_LAYER_SET:ACT_LAYER<<12|OP_BIT_SET<<10|ON_SPECIAL_USE<<8,UNKNOWN:0},action_kinds={KEY:{id:"KEY",name:"常规按键",desc:"常规按键"},MODS_KEY:{id:"MODS_KEY",name:"修饰键（组合键）",desc:"修饰键，指ctrl shift alt(option) win(command)这些"},MODS_TAP_KEY:{id:"MODS_TAP_KEY",name:"按键 | 修饰键",desc:"单击时是按键，长按及和其他键组合时是修饰键"},LAYER_MOMENTARY:{id:"LAYER_MOMENTARY",name:"瞬时开启层",desc:"按下按键时瞬时开启层，放开按键时层会关闭"},LAYER_TOGGLE:{id:"LAYER_TOGGLE",name:"层开关",desc:"切换层开关"},LAYER_MODS:{id:"LAYER_MODS",name:"修饰键 & 瞬时开启层",desc:"瞬时开启层的同时按下修饰键(目前仅支持左修饰键)"},LAYER_TAP_KEY:{id:"LAYER_TAP_KEY",name:"按键 | 瞬时开启层",desc:"单击是按键，长按及和其他键组合时是瞬时开启层"},LAYER_TAP_TOGGLE:{id:"LAYER_TAP_TOGGLE",name:"瞬时开启层 | 层开关",desc:"瞬时开启层，如果连续点击多次（次数由固件定义）时开关层"},DEFAULT_LAYER_SET:{id:"DEFAULT_LAYER_SET",name:"设置默认层",desc:"设置一个层为默认层"},LAUNCH_SHORTCUT:{id:"LAUNCH_SHORTCUT",name:"启动快捷方式",desc:"启动一个快捷方式(仅支持windows，使用方法见帮助)"},UNKNOWN:{id:"UNKNOWN",name:"其他",desc:"可能是该键盘不支持的功能"}},keycodes=[];keycodes[0]={id:"NO  ",name:'<i class="fa fa-ban fs22"></i>',desc:"设置该按键在该层无效，也可用shift+鼠标中键点击设置"},keycodes[1]={id:"TRNS",name:"",desc:"按键透明，也可用鼠标中键点击按键设置"},keycodes[2]={id:"POST_FAIL",name:"POST_FAIL",desc:"POST_FAIL"},keycodes[3]={id:"UNDEFINED",name:"UNDEFINED",desc:"UNDEFINED"},keycodes[4]={id:"A",name:"A",desc:"A"},keycodes[5]={id:"B",name:"B",desc:"B"},keycodes[6]={id:"C",name:"C",desc:"C"},keycodes[7]={id:"D",name:"D",desc:"D"},keycodes[8]={id:"E",name:"E",desc:"E"},keycodes[9]={id:"F",name:"F",desc:"F"},keycodes[10]={id:"G",name:"G",desc:"G"},keycodes[11]={id:"H",name:"H",desc:"H"},keycodes[12]={id:"I",name:"I",desc:"I"},keycodes[13]={id:"J",name:"J",desc:"J"},keycodes[14]={id:"K",name:"K",desc:"K"},keycodes[15]={id:"L",name:"L",desc:"L"},keycodes[16]={id:"M",name:"M",desc:"M"},keycodes[17]={id:"N",name:"N",desc:"N"},keycodes[18]={id:"O",name:"O",desc:"O"},keycodes[19]={id:"P",name:"P",desc:"P"},keycodes[20]={id:"Q",name:"Q",desc:"Q"},keycodes[21]={id:"R",name:"R",desc:"R"},keycodes[22]={id:"S",name:"S",desc:"S"},keycodes[23]={id:"T",name:"T",desc:"T"},keycodes[24]={id:"U",name:"U",desc:"U"},keycodes[25]={id:"V",name:"V",desc:"V"},keycodes[26]={id:"W",name:"W",desc:"W"},keycodes[27]={id:"X",name:"X",desc:"X"},keycodes[28]={id:"Y",name:"Y",desc:"Y"},keycodes[29]={id:"Z",name:"Z",desc:"Z"},keycodes[30]={id:"1",name:"!<br>1",desc:"1 !"},keycodes[31]={id:"2",name:"@<br>2",desc:"2 @"},keycodes[32]={id:"3",name:"#<br>3",desc:"3 #"},keycodes[33]={id:"4",name:"$<br>4",desc:"4 $"},keycodes[34]={id:"5",name:"%<br>5",desc:"5 %"},keycodes[35]={id:"6",name:"^<br>6",desc:"6 ^"},keycodes[36]={id:"7",name:"&<br>7",desc:"7 &"},keycodes[37]={id:"8",name:"*<br>8",desc:"8 *"},keycodes[38]={id:"9",name:"(<br>9",desc:"9 ("},keycodes[39]={id:"0",name:")<br>0",desc:"0 )"},keycodes[40]={id:"ENT",name:"Enter",desc:"Enter",name_mac:"Return",desc_mac:"Return"},keycodes[41]={id:"ESC",name:"Esc",desc:"Esc"},keycodes[42]={id:"BSPC",name:"BS",desc:"Backspace",name_mac:"Delete",desc_mac:"Delete"},keycodes[43]={id:"TAB",name:"Tab",desc:"Tab"},keycodes[44]={id:"SPC",name:"Space",desc:"Space"},keycodes[45]={id:"MINS",name:"_<br>-",desc:"- _"},keycodes[46]={id:"EQL",name:"+<br>=",desc:"= +"},keycodes[47]={id:"LBRC",name:"{<br>[",desc:"[ {"},keycodes[48]={id:"RBRC",name:"}<br>]",desc:"] }"},keycodes[49]={id:"BSLS",name:"|<br>\\",desc:"\\ |"},keycodes[50]={id:"NUHS",name:"~<br>#",desc:"ISO ~#"},keycodes[51]={id:"SCLN",name:":<br>;",desc:"; :"},keycodes[52]={id:"QUOT",name:"\"<br>'",desc:"' \""},keycodes[53]={id:"GRV ",name:"~<br>`",desc:"` ~"},keycodes[54]={id:"COMM",name:"<<br>,",desc:", <"},keycodes[55]={id:"DOT ",name:"><br>.",desc:". >"},keycodes[56]={id:"SLSH",name:"?<br>/",desc:"/ ?"},keycodes[57]={id:"CAPS",name:"Caps Lock",desc:"CapsLock"},keycodes[58]={id:"F1  ",name:"F1",desc:"F1"},keycodes[59]={id:"F2  ",name:"F2",desc:"F2"},keycodes[60]={id:"F3  ",name:"F3",desc:"F3"},keycodes[61]={id:"F4  ",name:"F4",desc:"F4"},keycodes[62]={id:"F5  ",name:"F5",desc:"F5"},keycodes[63]={id:"F6  ",name:"F6",desc:"F6"},keycodes[64]={id:"F7  ",name:"F7",desc:"F7"},keycodes[65]={id:"F8  ",name:"F8",desc:"F8"},keycodes[66]={id:"F9  ",name:"F9",desc:"F9"},keycodes[67]={id:"F10 ",name:"F10",desc:"F10"},keycodes[68]={id:"F11 ",name:"F11",desc:"F11"},keycodes[69]={id:"F12 ",name:"F12",desc:"F12"},keycodes[70]={id:"PSCR",name:"Print<br>Scrn",desc:"Print Screen",name_mac:"F13",desc_mac:"F13(mac)"},keycodes[71]={id:"SLCK",name:"Scrll<br>Lock",desc:"Scroll Lock",name_mac:"F14",desc_mac:"F14(mac)"},keycodes[72]={id:"PAUS",name:"Pause",desc:"Pause Break",name_mac:"F15",desc_mac:"F15(mac)"},keycodes[73]={id:"INS ",name:"Ins",desc:"Insert"},keycodes[74]={id:"HOME",name:"Home",desc:"Home"},keycodes[75]={id:"PGUP",name:"Page<br>Up",desc:"Page Up"},keycodes[76]={id:"DEL ",name:"Del",desc:"Del"},keycodes[77]={id:"END ",name:"End",desc:"End"},keycodes[78]={id:"PGDN",name:"Page<br>Dn",desc:"Page Down"},keycodes[79]={id:"RGHT",name:"→",name_dsa:'<i class="fa fa-arrow-right"/>',desc:"Right"},keycodes[80]={id:"LEFT",name:"←",name_dsa:'<i class="fa fa-arrow-left"/>',desc:"Left"},keycodes[81]={id:"DOWN",name:"↓",name_dsa:'<i class="fa fa-arrow-down"/>',desc:"Down"},keycodes[82]={id:"UP  ",name:"↑",name_dsa:'<i class="fa fa-arrow-up"/>',desc:"Up"},keycodes[83]={id:"NLCK",name:"Num<br>Lock",desc:"Num Lock",name_mac:"Clear",desc_mac:"Clear"},keycodes[84]={id:"PSLS",name:"/",name_dsa:"÷",desc:"Keypad /"},keycodes[85]={id:"PAST",name:"*",name_dsa:"×",desc:"Keypad *"},keycodes[86]={id:"PMNS",name:"-",desc:"Keypad -"},keycodes[87]={id:"PPLS",name:"+",desc:"Keypad +"},keycodes[88]={id:"PENT",name:"P↩",desc:"Keypad Enter"},keycodes[89]={id:"P1  ",name:'1<br><span style="font-size:10px">End</span>',name_dsa:"1",desc:"Keypad 1"},keycodes[90]={id:"P2  ",name:"2<br>↓",name_dsa:"2",desc:"Keypad 2"},keycodes[91]={id:"P3  ",name:'3<br><span style="font-size:10px">PgDn</span>',name_dsa:"3",desc:"Keypad 3"},keycodes[92]={id:"P4  ",name:"4<br>←",name_dsa:"4",desc:"Keypad 4"},keycodes[93]={id:"P5  ",name:"5",desc:"Keypad 5"},keycodes[94]={id:"P6  ",name:"6<br>→",name_dsa:"6",desc:"Keypad 6"},keycodes[95]={id:"P7  ",name:'7<br><span style="font-size:10px">Home</span>',name_dsa:"7",desc:"Keypad 7"},keycodes[96]={id:"P8  ",name:"8<br>↑",name_dsa:"8",desc:"Keypad 8"},keycodes[97]={id:"P9  ",name:'9<br><span style="font-size:10px">PgUp</span>',name_dsa:"9",desc:"Keypad 9"},keycodes[98]={id:"P0  ",name:'0<br><span style="font-size:10px">Ins</span>',name_dsa:"0",desc:"Keypad 0"},keycodes[99]={id:"PDOT",name:'.<br><span style="font-size:10px">Del</span>',name_dsa:".",desc:"Keypad ."},keycodes[100]={id:"NUBS",name:"|<br>\\",desc:"ISO |\\"},keycodes[101]={id:"APP ",name:"Menu",desc:"Menu on Win"},keycodes[102]={id:"POWER",name:"_Power",desc:"Power(Not work on Win)"},keycodes[103]={id:"PEQL",name:"=",desc:"Keymapd Equal(Not work on Win)"},keycodes[104]={id:"F13 ",name:"F13",desc:"F13"},keycodes[105]={id:"F14 ",name:"F14",desc:"F14"},keycodes[106]={id:"F15 ",name:"F15",desc:"F15"},keycodes[107]={id:"F16 ",name:"F16",desc:"F16"},keycodes[108]={id:"F17 ",name:"F17",desc:"F17"},keycodes[109]={id:"F18 ",name:"F18",desc:"F18"},keycodes[110]={id:"F19 ",name:"F19",desc:"F19"},keycodes[111]={id:"F20 ",name:"F20",desc:"F20"},keycodes[112]={id:"F21 ",name:"F21",desc:"F21"},keycodes[113]={id:"F22 ",name:"F22",desc:"F22"},keycodes[114]={id:"F23 ",name:"F23",desc:"F23"},keycodes[115]={id:"F24 ",name:"F24",desc:"F24"},keycodes[130]={id:"LCAP",name:"Locking Caps Lock",desc:"Locking Caps Lock"},keycodes[131]={id:"LNUM",name:"Locking Num Lock",desc:"Locking Num Lock"},keycodes[132]={id:"LSCR",name:"Locking Scroll Lock",desc:"Locking Scroll Lock"},keycodes[135]={id:"INT1",name:"JIS ろ",desc:"Japanese RO"},keycodes[136]={id:"INT2",name:"ひらがな",desc:"Japanese Hiragana"},keycodes[137]={id:"INT3",name:"JIS ￥",desc:"Japanese Yen"},keycodes[138]={id:"INT4",name:"変換",desc:"Japanese Henkan"},keycodes[139]={id:"INT5",name:"無変換",desc:"Japanese Muhenkan"},keycodes[140]={id:"INT6",name:"INT6",desc:"INT6"},keycodes[141]={id:"INT7",name:"INT7",desc:"INT7"},keycodes[142]={id:"INT8",name:"INT8",desc:"INT8"},keycodes[143]={id:"INT9",name:"INT9",desc:"INT9"},keycodes[144]={id:"LANG1",name:"한/영",desc:"Korean Hangul/English"},keycodes[145]={id:"LANG2",name:"한자",desc:"Korean Hanja"},keycodes[146]={id:"LANG3",name:"LANG3",desc:"LANG3"},keycodes[147]={id:"LANG4",name:"LANG4",desc:"LANG4"},keycodes[148]={id:"LANG5",name:"LANG5",desc:"LANG5"},keycodes[149]={id:"LANG6",name:"LANG6",desc:"LANG6"},keycodes[150]={id:"LANG7",name:"LANG7",desc:"LANG7"},keycodes[151]={id:"LANG8",name:"LANG8",desc:"LANG8"},keycodes[152]={id:"LANG9",name:"LANG9",desc:"LANG9"},keycodes[176]={id:"P00",name:"00",desc:"Keypad 00, 部分键盘支持"},keycodes[224]={id:"LCTL",name:"Ctrl",desc:"Left Control"},keycodes[225]={id:"LSFT",name:"Shift",desc:"Left Shift"},keycodes[226]={id:"LALT",name:"Alt",desc:"Left Alt",name_mac:"Option",desc_mac:"Left option⌥"},keycodes[227]={id:"LGUI",name:"Win",desc:"Left Windows",name_mac:"Cmd⌘",desc_mac:"Left command⌘"},keycodes[228]={id:"RCTL",name:"rCtrl",desc:"Right Control"},keycodes[229]={id:"RSFT",name:"rShift",desc:"Right Shift"},keycodes[230]={id:"RALT",name:"rAlt",desc:"Right Alt",name_mac:"rOption",desc_mac:"Right option⌥"},keycodes[231]={id:"RGUI",name:"rWin",desc:"Right Windows",name_mac:"rCmd⌘",desc_mac:"Right command⌘"},system_codes=[],system_codes[129]={id:"PWR ",name:"电源",desc:"System Power"},system_codes[130]={id:"SLEP",name:"睡眠",desc:"System Sleep"},system_codes[131]={id:"WAKE",name:"唤醒",desc:"System Wake"},consumer_codes=[],consumer_codes[111]={id:"SBUP",name:' <i style="font-size: 24px; padding-left:6px" class="kb kb-Unicode-Screen-Bright"/>',desc:"增大屏幕亮度，仅支持平板、笔记本，win8以上和mac"},consumer_codes[112]={id:"SBDN",name:' <i style="font-size: 24px; padding-left:6px" class="kb kb-Unicode-Screen-Dim"/>',desc:"降低屏幕高度，仅支持平板、笔记本，win8以上和mac"},consumer_codes[226]={id:"MUTE",name:' <i class="kb kb-Multimedia-Mute-2 fs22"/>',desc:"静音"},consumer_codes[233]={id:"VOLU",name:' <i class="kb kb-Multimedia-Volume-Up-2 fs22"/>',desc:"音量加"},consumer_codes[234]={id:"VOLD",name:' <i class="kb kb-Multimedia-Volume-Down-2 fs22"/>',desc:"音量减"},consumer_codes[181]={id:"MNXT",name:' <i class="fa fa-step-forward fs20"/>',desc:"下一曲"},consumer_codes[182]={id:"MPRV",name:' <i class="fa fa-step-backward fs20"/>',desc:"上一曲"},consumer_codes[183]={id:"MSTP",name:' <i class="fa fa-stop fs20"/>',desc:"停止播放"},consumer_codes[205]={id:"MPLY",name:' <i class="fa fa-play fs20"/>',desc:"播放/暂停"},consumer_codes[387]={id:"MSEL",name:' <i class="fa fa-music fs20"/>',desc:"启动默认音乐播放器"},consumer_codes[204]={id:"EJCT",name:"Eject",desc:"Media Eject"},consumer_codes[394]={id:"MAIL",name:' <i class="fa fa-envelope fs20"></i>',desc:"Mail"},consumer_codes[402]={id:"CALC",name:' <i class="fa fa-calculator fs22"/>',desc:"计算器"},consumer_codes[404]={id:"MYCM",name:' <i class="fa fa-desktop fs20"></i>',desc:"My Computer"},consumer_codes[545]={id:"WSCH",name:"搜索",desc:"WWW Search"},consumer_codes[547]={id:"WHOM",name:"主页",desc:"WWW Home"},consumer_codes[548]={id:"WBAK",name:"后退",desc:"WWW Back"},consumer_codes[549]={id:"WFWD",name:"前进",desc:"WWW Forward"},consumer_codes[550]={id:"WSTP",name:"停止",desc:"WWW Stop"},consumer_codes[551]={id:"WREF",name:"刷新",desc:"WWW Refresh"},consumer_codes[554]={id:"WFAV",name:"收藏夹",desc:"WWW Favorites"},consumer_codes[179]={id:"MFFD",name:"Fast Forward",desc:"Media Fast Forward(Mac)"},consumer_codes[180]={id:"MRWD",name:"Rewind",desc:"Media Rewind(Mac)"},mousekey_codes=[],mousekey_codes[240]={id:"MS_U",name:"鼠标 上移",desc:"Mouse UP"},mousekey_codes[241]={id:"MS_D",name:"鼠标 下移",desc:"Mouse Down"},mousekey_codes[242]={id:"MS_L",name:"鼠标 左移",desc:"Mouse Left"},mousekey_codes[243]={id:"MS_R",name:"鼠标 右移",desc:"Mouse Right"},mousekey_codes[244]={id:"BTN1",name:"鼠标 左键",desc:"Mouse Button1"},mousekey_codes[245]={id:"BTN2",name:"鼠标 右键",desc:"Mouse Button2"},mousekey_codes[246]={id:"BTN3",name:"鼠标 中键",desc:"Mouse Button3"},mousekey_codes[247]={id:"BTN4",name:"鼠标 后退",desc:"Mouse Button4"},mousekey_codes[248]={id:"BTN5",name:"鼠标 前进",desc:"Mouse Button5"},mousekey_codes[249]={id:"WH_U",name:"滚轮 上",desc:"Wheel Up"},mousekey_codes[250]={id:"WH_D",name:"滚轮 下",desc:"Wheel Down"},mousekey_codes[251]={id:"WH_L",name:"滚轮 左",desc:"Wheel Left"},mousekey_codes[252]={id:"WH_R",name:"滚轮 右",desc:"Wheel Right"},mousekey_codes[253]={id:"ACL0",name:"速度 慢",desc:"Mouse Slow"},mousekey_codes[254]={id:"ACL1",name:"速度 中",desc:"Mouse Medium"},mousekey_codes[255]={id:"ACL2",name:"速度 快",desc:"Mouse Fast"},mousekey_codes[0]={id:"BTN1_",name:"火力左键",desc:"火力模式 鼠标左键"},mousekey_codes[4]={id:"A",name:"火A",desc:"火力模式A"},mousekey_codes[5]={id:"B",name:"火B",desc:"火力模式B"},mousekey_codes[6]={id:"C",name:"火C",desc:"火力模式C"},mousekey_codes[7]={id:"D",name:"火D",desc:"火力模式D"},mousekey_codes[8]={id:"E",name:"火E",desc:"火力模式E"},mousekey_codes[9]={id:"F",name:"火F",desc:"火力模式F"},mousekey_codes[10]={id:"G",name:"火G",desc:"火力模式G"},mousekey_codes[11]={id:"H",name:"火H",desc:"火力模式H"},mousekey_codes[12]={id:"I",name:"火I",desc:"火力模式I"},mousekey_codes[13]={id:"J",name:"火J",desc:"火力模式J"},mousekey_codes[14]={id:"K",name:"火K",desc:"火力模式K"},mousekey_codes[15]={id:"L",name:"火L",desc:"火力模式L"},mousekey_codes[16]={id:"M",name:"火M",desc:"火力模式M"},mousekey_codes[17]={id:"N",name:"火N",desc:"火力模式N"},mousekey_codes[18]={id:"O",name:"火O",desc:"火力模式O"},mousekey_codes[19]={id:"P",name:"火P",desc:"火力模式P"},mousekey_codes[20]={id:"Q",name:"火Q",desc:"火力模式Q"},mousekey_codes[21]={id:"R",name:"火R",desc:"火力模式R"},mousekey_codes[22]={id:"S",name:"火S",desc:"火力模式S"},mousekey_codes[23]={id:"T",name:"火T",desc:"火力模式T"},mousekey_codes[24]={id:"U",name:"火U",desc:"火力模式U"},mousekey_codes[25]={id:"V",name:"火V",desc:"火力模式V"},mousekey_codes[26]={id:"W",name:"火W",desc:"火力模式W"},mousekey_codes[27]={id:"X",name:"火X",desc:"火力模式X"},mousekey_codes[28]={id:"Y",name:"火Y",desc:"火力模式Y"},mousekey_codes[29]={id:"Z",name:"火Z",desc:"火力模式Z"},mousekey_codes[30]={id:"1",name:"火1",desc:"火力模式1 !"},mousekey_codes[31]={id:"2",name:"火2",desc:"火力模式2 @"},mousekey_codes[32]={id:"3",name:"火3",desc:"火力模式3 #"},mousekey_codes[33]={id:"4",name:"火4",desc:"火力模式4 $"},mousekey_codes[34]={id:"5",name:"火5",desc:"火力模式5 %"},mousekey_codes[35]={id:"6",name:"火6",desc:"火力模式6 ^"},mousekey_codes[36]={id:"7",name:"火7",desc:"火力模式7 &"},mousekey_codes[37]={id:"8",name:"火8",desc:"火力模式8 *"},mousekey_codes[38]={id:"9",name:"火9",desc:"火力模式9 ("},mousekey_codes[39]={id:"0",name:"火0",desc:"火力模式0 )"},mousekey_codes[62]={id:"F5",name:"火F5",desc:"火力模式F5 )"},mods_codes=[],mods_codes[0]={id:0,name:"    ",desc:"none"},mods_codes[1]={id:1,name:"Ctrl",desc:"Control"},mods_codes[2]={id:2,name:"Shift",desc:"Shift"},mods_codes[3]={id:3,name:"Shift+Ctrl",desc:"Shift + Control"},mods_codes[4]={id:4,name:"Alt",desc:"Alt"},mods_codes[5]={id:5,name:"Alt+Ctrl",desc:"Alt + Control"},mods_codes[6]={id:6,name:"Alt+Shift",desc:"Alt + Shift"},mods_codes[7]={id:7,name:"Alt+Shift+Ctrl",desc:"Alt + Shift + Control"},mods_codes[8]={id:8,name:"Win",desc:"Win"},mods_codes[9]={id:9,name:"Win+Ctrl",desc:"Win + Control"},mods_codes[10]={id:10,name:"Win+Shift",desc:"Win + Shift"},mods_codes[11]={id:11,name:"Win+Shift+Ctrl",desc:"Win + Shift + Control"},mods_codes[12]={id:12,name:"Win+Alt",desc:"Win + Alt"},mods_codes[13]={id:13,name:"Win+Alt+Ctrl",desc:"Win + Alt + Control"},mods_codes[14]={id:14,name:"Win+Alt+Shift",desc:"Win + Alt + Shift"},mods_codes[15]={id:15,name:"Win+Alt+Shift+Ctrl",desc:"Win + Alt + Shift + Control"},mods_codes[16]={id:16,name:"    ",desc:"none"},mods_codes[17]={id:17,name:"rCtrl",desc:"rControl"},mods_codes[18]={id:18,name:"rShift",desc:"rShift"},mods_codes[19]={id:19,name:"rShift+rCtrl",desc:"rShift + rControl"},mods_codes[20]={id:20,name:"rAlt",desc:"rAlt"},mods_codes[21]={id:21,name:"rAlt+rCtrl",desc:"rAlt + rControl"},mods_codes[22]={id:22,name:"rAlt+rShift",desc:"rAlt + rShift"},mods_codes[23]={id:23,name:"rAlt+rShift+rCtrl",desc:"rAlt + rShift + rControl"},mods_codes[24]={id:24,name:"rWin",desc:"rWin"},mods_codes[25]={id:25,name:"rWin+rCtrl",desc:"rWin + rControl"},mods_codes[26]={id:26,name:"rWin+rShift",desc:"rWin + rShift"},mods_codes[27]={id:27,name:"rWin+rShift+rCtrl",desc:"rWin + rShift + rControl"},mods_codes[28]={id:28,name:"rWin+rAlt",desc:"rWin + rAlt"},mods_codes[29]={id:29,name:"rWin+rAlt+rCtrl",desc:"rWin + rAlt + rControl"},mods_codes[30]={id:30,name:"rWin+rAlt+rShift",desc:"rWin + rAlt + rShift"},mods_codes[31]={id:31,name:"rWin+rAlt+rShift+rCtrl",desc:"rWin + rAlt + rShift + rControl"},on_codes=[],on_codes[1]={id:1,name:"On Press",desc:"On Press"},on_codes[2]={id:1,name:"On Release",desc:"On Release"},on_codes[3]={id:1,name:"On Both",desc:"On Press and Release"},am_codes=[],am_codes[0]={id:"未知",name:"未知",desc:"未知"},af_codes=[],af_codes[0]={id:"未知",name:"未知",desc:"未知"};